!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("ractive")):"function"==typeof define&&define.amd?define("ractive-cloudformation-ui",["ractive"],e):"object"==typeof exports?exports["ractive-cloudformation-ui"]=e(require("ractive")):t["ractive-cloudformation-ui"]=e(t.Ractive)}(window,function(a){return(o={},i.m=n=[function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a(1);var n=s(a(2)),i=s(a(3)),o=s(a(4));function s(t){return t&&t.__esModule?t:{default:t}}e.default=n.default.extend({template:'\n\t\t<hsplit class=\'ractive-cloudformation-ui theme-{{theme}}\'>\n\t\t\t<left style="border-right: 1px solid #b9b8b6;">\n\t\t\t\t<div style="display: block;font-size: 12px;padding-left: 10px;font-size: 18px;font-weight: 700;color: #000;line-height: 2rem;padding: 12px 35px;border-bottom: 1px solid #ddd;">\n\t\t\t\t\tCloudformation\n\t\t\t\t</div>\n\t\t\t\t<div style="position: absolute;bottom: 0px;top: 60px;left: 0px;right: 0px;">\n\t\t\t\t\t<div style="display: block;height: 30px;line-height: 30px;font-size: 13px;padding: 0px 35px;border-top: 1px solid transparent;border-left: 1px solid transparent;margin-bottom: 0px;color: #ec7211;font-weight: bold;">Stacks</div>\n\t\t\t\t\t<div style="display: block;height: 30px;line-height: 30px;font-size: 13px;padding: 0px 35px;border-top: 1px solid transparent;border-left: 1px solid transparent;margin-bottom: 0px;color: #000;">StacksSets</div>\n\t\t\t\t\t<div style="display: block;height: 30px;line-height: 30px;font-size: 13px;padding: 0px 35px;border-top: 1px solid transparent;border-left: 1px solid transparent;margin-bottom: 0px;color: #000;">Exports</div>\n\t\t\t\t</div>\n\t\t\t</left>\n\t\t\t<content  style="background-color: transparent;border: 0px;overflow-x: auto;">\n\t\t\t\t<cftabs active_id=\'stacklist\' />\n\t\t\t</content>\n\t\t</hsplit>\n\t\t',components:{hsplit:i.default,cftabs:o.default},data:function(){return{}},on:{init:function(){cloudformation=new AWS.CloudFormation({endpoint:this.get("endpoint"),region:this.get("region"),credentials:{accessKeyId:this.get("accessKeyId"),secretAccessKey:this.get("secretAccessKey")}})}}})},function(t,e,a){},function(t,e){t.exports=a},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ractive.extend({template:'<div class="hsplit {{class}} " style="{{style}}">{{yield}}</div>',isolated:!1,data:{direction:"horizontal"}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(a(5)),i=r(a(6)),o=r(a(7)),s=r(a(14));function r(t){return t&&t.__esModule?t:{default:t}}e.default=Ractive.extend({components:{stacklist:n.default,ministacklist:i.default,stackdetails:o.default,stackcreate:s.default},template:'\n\n\t\t\t<div style="height: 30px;margin-left: 10px;line-height: 30px;font-size: 15px;">\n\t\t\t\t<a style="cursor: pointer;text-decoration: none;">Cloudformation</a> &gt;\n\t\t\t\t<a style="cursor: pointer;text-decoration: none;" on-click="@this.set(\'active_id\', \'stacklist\')">Stacks</a>\n\t\t\t\t{{#if active_id === \'stackdetails\'}}\n\t\t\t\t\t&gt; <a style="cursor: pointer;text-decoration: none;color: #999;">{{stackdetails}}</a>\n\t\t\t\t{{/if}}\n\t\t\t</div>\n\n\t\t\t{{#if active_id === "stacklist" || active_id === "stackdetails" }}\n\t\t\t<div style="position: absolute;top: 40px;left: 10px;right: 10px;bottom: 10px;">\n\t\t\t\t{{#if active_id === "stacklist"}}\n\t\t\t\t\t<div style="position: absolute;top: 0px;left: 0px;width: {{#if active_id === \'stackdetails\'}} 260px; {{else}}100%;{{/if}}; box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;background-color: #fff">\n\t\t\t\t\t\t<stacklist />\n\t\t\t\t\t</div>\n\t\t\t\t{{/if}}\n\n\t\t\t\t{{#if active_id === \'stackdetails\'}}\n\t\t\t\t\t<div style="position: absolute;top: 0px;left: 0px;width: {{#if active_id === \'stackdetails\'}} 260px; {{else}}100%;{{/if}}; bottom: 0px;box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;background-color: #fff">\n\t\t\t\t\t\t<ministacklist active-stack="{{stackdetails}}" />\n\t\t\t\t\t</div>\n\t\t\t\t{{/if}}\n\t\t\t\t{{#if active_id === \'stackdetails\'}}\n\t\t\t\t\t<stackdetails stack="{{stackdetails}}" />\n\t\t\t\t{{/if}}\n\t\t\t</div>\n\t\t\t{{/if}}\n\n\t\t\t{{#if active_id === "stackcreate" }}\n\t\t\t<div style="position: absolute;top: 10px;left: 50px;right: 50px;bottom: 10px;">\n\t\t\t\t<stackcreate />\n\t\t\t</div>\n\t\t\t{{/if}}\n\t\t',data:function(){return{}},active_cache:[],activetabcontent:function(){var e=this;e.active_cache.push(e.get("active_id")),e.findAllComponents("tabletab").map(function(t){t.set("active",t.get("table.id")===e.get("active_id"))})},command:function(t,e){"stackdetails"===t&&this.set("stackdetails",e),this.set("active_id",t)},oninit:function(){var n=this;this.observe("active_id",function(t,e,a){n.activetabcontent()}),this.on("closetab",function(t,e){return this.active_cache=this.active_cache.filter(function(t){return t!==e}),this.set("tabs",this.get("tabs").filter(function(t){return t.id!==e})),this.get("active_id")===e&&this.set("active_id",this.active_cache.pop()),n.activetabcontent(),!1}),this.on("activetab",function(t,e){return this.set("active_id",e),!1})}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(15);e.default=Ractive.extend({components:{"icon-refresh":n["icon-refresh"]},template:'\n\t\t<div style="height: 50px;padding: 10px 10px 0px 0px;background-color: #fafafa;;">\n\n\t\t\t<div style="float: right;">\n\t\t\t\t<a class="btn btn-sm btn-default" on-click="refresh"> <icon-refresh /> </a>\n\t\t\t\t<a class="btn btn-sm btn-default {{#if selection}}{{else}}disabled{{/if}}" on-click=\'delete\'> Delete </a>\n\t\t\t\t<a class="btn btn-sm btn-default disabled" on-click=\'update-stack\'> Update </a>\n\t\t\t\t<a class="btn btn-sm btn-primary" on-click="create-stack"> Create stack </a>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<table style="border-collapse: collapse;border-spacing: 0; empty-cells: show; border: 1px solid #eaeded;width: 100%;">\n\t\t    <thead style="background-color: #fafafa;color: #000;text-align: left;vertical-align: bottom;border-bottom: 1px solid #eaeded">\n\t\t        <tr>\n\t\t            <th style="padding: 0.5em 1em;"></th>\n\t\t            <th style="padding: 0.5em 1em;">Stack name</th>\n\t\t            <th style="padding: 0.5em 1em;">Status</th>\n\t\t            <th style="padding: 0.5em 1em;">Created time</th>\n\t\t\t\t\t<th style="padding: 0.5em 1em;">Description</th>\n\t\t        </tr>\n\t\t    </thead>\n\t\t    <tbody>\n\t\t\t\t{{#stacks}}\n\n\t\t        <tr style="{{#if selection === .StackName }}background-color: #f1faff;{{/if}}">\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;"><input type="radio" name={{selection}} value=\'{{.StackName}}\'></td>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;"><a style="cursor: pointer;" on-click="gotostack">{{.StackName}}</a></td>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.StackStatus}}</td>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.CreationTimeFormatted}}</td>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">-</td>\n\t\t        </tr>\n\t\t\t\t{{/stacks}}\n\n\t\t    </tbody>\n\t\t</table>\n\t',stack_list:function(a){var n=this;this.set({stacks:[]}),this.set("selection"),cloudformation.listStacks({},function(t,e){t?a&&a(t):(n.set("stacks",e.StackSummaries.sort(function(t,e){return new Date(t.CreationTime).getTime()>new Date(e.CreationTime).getTime()?-1:1}).filter(function(t){return"DELETE_COMPLETE"!==t.StackStatus}).sort(function(t){return t.CreationTimeFormatted=new Date(t.CreationTime).toISOString(),t})),a&&a(t,e))})},data:function(){return{selection:""}},on:{init:function(){var a=this;a.set("columns",[null,"Stack Name","Status","Created time"]),a.set("rows",[]),a.on("refresh",function(){a.stack_list()}),a.on("create-stack",function(){a.root.findComponent("cftabs").command("stackcreate","Create Stack")}),a.on("delete",function(){var t=a.get("selection");if(!t)return alert("Please select a stack to delete");var e=t;confirm("Are you sure you want to delete stack "+e)&&cloudformation.deleteStack({StackName:e},function(t,e){t&&alert("delete stack failed"),setTimeout(function(){a.stack_list()},1500)})}),a.stack_list()},gotostack:function(t){this.root.findComponent("cftabs").command("stackdetails",this.get(t.resolve()+".StackName"))}}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(15);e.default=Ractive.extend({components:{"icon-refresh":n["icon-refresh"]},template:'\n\t\t<div style="padding: 7px;text-align: right;background-color: #fafafa;">\n\t\t\t<a class="btn btn-sm btn-default" on-click="refresh"> <icon-refresh /> </a>\n\t\t</div>\n\n\t\t{{#stacks}}\n\t\t\t<div style="height: 86px;padding: 15px 20px;border-bottom: 1px solid #eaeded;text-decoration: none;cursor: pointer;{{#if ~/[\'active-stack\'] === .StackName }}border: 1px solid #0073bb;{{/if}}" on-click="gotostack">\n\t\t\t\t<div style="color: #000;line-height: 20px;">{{.StackName}}</div>\n\t\t\t\t<div style="color: #aaa;font-size: 12px;line-height: 20px;margin-top: 5px;">{{.CreationTimeFormatted}}</div>\n\t\t\t\t<div style="color: #1d8102;font-size: 13px;">{{.StackStatus}}</div>\n\t\t\t</div>\n\t\t{{/stacks}}\n\n\t',data:function(){return{stacks:[]}},stack_list:function(a){var n=this;this.set({stacks:[]}),cloudformation.listStacks({},function(t,e){t?a&&a(t):(n.set("stacks",e.StackSummaries.sort(function(t,e){return new Date(t.CreationTime).getTime()>new Date(e.CreationTime).getTime()?-1:1}).filter(function(t){return"DELETE_COMPLETE"!==t.StackStatus}).sort(function(t){return t.CreationTimeFormatted=new Date(t.CreationTime).toISOString(),t})),a&&a(t,e))})},on:{init:function(){var t=this;t.on("refresh",function(){t.stack_list()}),t.stack_list()},gotostack:function(t){this.root.findComponent("cftabs").command("stackdetails",this.get(t.resolve()+".StackName"))}}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=a(8),o=(n=i)&&n.__esModule?n:{default:n};e.default=Ractive.extend({isolated:!0,components:{stackdetailtabs:o.default},template:'\n\t\t{{#if show}}\n\t\t\t<stackdetailtabs StackName="{{stack}}" />\n\t\t{{/if}}\n\t',data:function(){return{show:!0}},on:{init:function(){this.observe("stack",function(t){console.log("stack changed to ",t),this.set({show:!1});var e=this;setTimeout(function(){e.set({show:!0})},50)})}}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=d(a(9)),i=d(a(10)),o=d(a(11)),s=d(a(12)),r=d(a(13));function d(t){return t&&t.__esModule?t:{default:t}}e.default=Ractive.extend({components:{stackdetailstemplate:n.default,stackdetailsparameters:i.default,stackdetailsresources:o.default,stackdetailsevents:s.default,stackdetailsexports:r.default},template:'\n\t\t<div style="position: absolute;left: 270px;right:0px;top: 0px;height: 50px;">\n\t\t\t<div style="float: right;padding-top: 7px;">\n\t\t\t\t<a class="btn btn-sm btn-default" on-click=\'delete-stack\' > Delete </a>\n\t\t\t\t<a class="btn btn-sm btn-default disabled"  > Update </a>\n\t\t\t\t<a class="btn btn-sm btn-primary" on-click="create-stack"> Create Stack </a>\n\t\t\t</div>\n\t\t\t<h4 style="color: #000;">{{StackName}}</h4>\n\n\t\t</div>\n\t\t<div style="position: absolute;left: 270px;right:0px;top: 40px;bottom: 0px;">\n\t\t\t\t<tabhead style="">\n\t\t\t\t\t<tab class=\'{{#if active_id === "exports" }}active{{/if}}\' on-click=\'@this.fire("activetab", "exports")\'>Outputs</tab>\n\t\t\t\t\t<tab class=\'{{#if active_id === "resources" }}active{{/if}}\' on-click=\'@this.fire("activetab", "resources")\'>Resources</tab>\n\t\t\t\t\t<tab class=\'{{#if active_id === "events" }}active{{/if}}\' on-click=\'@this.fire("activetab", "events")\'>Events</tab>\n\t\t\t\t\t<tab class=\'{{#if active_id === "template" }}active{{/if}}\'   on-click=\'@this.fire("activetab", "template")\'>Template</tab>\n\t\t\t\t\t<tab class=\'{{#if active_id === "parameters" }}active{{/if}}\' on-click=\'@this.fire("activetab", "parameters")\'>Parameters</tab>\n\t\t\t\t</tabhead>\n\n\t\t\t\t<tabcontent style="top: 50px;">\n\t\t\t\t\t{{#if active_id === "template" }}\n\t\t\t\t\t\t<div style="position: absolute;top: 0;left: 0;right:0;bottom: 0; background-color:#fff;box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;">\n\t\t\t\t\t\t\t<stackdetailstemplate StackName="{{StackName}}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t{{#if active_id === "parameters" }}\n\t\t\t\t\t\t<div style="background-color:#fff;box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;">\n\t\t\t\t\t\t\t<stackdetailsparameters StackName="{{StackName}}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t{{#if active_id === "resources" }}\n\t\t\t\t\t\t<div style="background-color:#fff;box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;">\n\t\t\t\t\t\t\t<stackdetailsresources StackName="{{StackName}}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t{{#if active_id === "events" }}\n\t\t\t\t\t\t<div style="background-color:#fff;box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;">\n\t\t\t\t\t\t\t<stackdetailsevents StackName="{{StackName}}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t{{#if active_id === "exports" }}\n\t\t\t\t\t\t<div style="background-color:#fff;box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;">\n\t\t\t\t\t\t\t<stackdetailsexports StackName="{{StackName}}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/if}}\n\t\t\t\t</tabcontent>\n\t\t</div>\n\t',data:function(){return{active_id:"resources"}},oninit:function(){var a=this;this.on("create-stack",function(){a.root.findComponent("cftabs").command("stackcreate","Create Stack")}),this.on("delete-stack",function(){var t=this.get("StackName");confirm("Are you sure you want to delete stack "+t)&&cloudformation.deleteStack({StackName:t},function(t,e){t&&alert("delete stack failed"),setTimeout(function(){a.root.findComponent("cftabs").command("stacklist","")},1500)})}),this.on("activetab",function(t,e){return this.set("active_id",e),!1})}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ractive.extend({template:'\n\t\t<div style="position: absolute;top: 0px;left:0px;right: 0px;bottom: 0px;overflow: auto;white-space: pre;font-family: monospace;padding: 15px;">\n\t\t{{TemplateBody}}\n\t\t</div>\n\t',oninit:function(){var a=this,t={StackName:this.get("StackName")};cloudformation.getTemplate(t,function(t,e){if(t)return alert("failed getting stack template");a.set("TemplateBody",e.TemplateBody)})}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ractive.extend({components:{},template:'\n\t\t<table style="border-collapse: collapse;border-spacing: 0; empty-cells: show; border: 1px solid #eaeded;width: 100%;">\n\t\t    <thead style="background-color: #fafafa;color: #000;text-align: left;vertical-align: bottom;border-bottom: 1px solid #eaeded">\n\t\t        <tr>\n\t\t            <th style="padding: 0.5em 1em;">Key</th>\n\t\t            <th style="padding: 0.5em 1em;">Value</th>\n\t\t            <th style="padding: 0.5em 1em;">Resolved value</th>\n\t\t        </tr>\n\t\t    </thead>\n\t\t    <tbody>\n\t\t\t\t{{#parameters}}\n\t\t        <tr>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.ParameterKey}}</td>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.ParameterValue}}</td>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;"></td>\n\t\t        </tr>\n\t\t\t\t{{/parameters}}\n\n\t\t    </tbody>\n\t\t</table>\n\n\t',oninit:function(){var a=this,t={StackName:this.get("StackName")};cloudformation.describeStacks(t,function(t,e){if(t)return alert("failed describing stack");console.log(e.Stacks[0]),a.set("stack",e.Stacks[0]),a.set("parameters",e.Stacks[0].Parameters)})}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(15);e.default=Ractive.extend({components:{"icon-refresh":n["icon-refresh"]},template:'\n\n\n\n\t\t<div style="background-color: #fafafa;border-bottom: 1px solid #eaeded;height: 50px;padding: 7px;">\n\t\t\t<div style="float:right;">\n\t\t\t\t<a class="btn btn-sm btn-default" on-click="@this.list_resources()"> <icon-refresh /> </a>\n\t\t\t</div>\n\t\t\t<div style="font-size: 20px;line-height: 40px;">Resources</div>\n\n\t\t</div>\n\n\t\t<table style="border-collapse: collapse;border-spacing: 0; empty-cells: show;width: 100%;">\n\t\t    <thead style="background-color: #fafafa;color: #000;text-align: left;vertical-align: bottom;border-bottom: 1px solid #eaeded">\n\t\t        <tr>\n\t\t            <th style="padding: 0.5em 1em;">Logical ID</th>\n\t\t            <th style="padding: 0.5em 1em;">Phisical ID</th>\n\t\t            <th style="padding: 0.5em 1em;">Type</th>\n\t\t\t\t\t<th style="padding: 0.5em 1em;">Status</th>\n\t\t\t\t\t<th style="padding: 0.5em 1em;">Status Reason</th>\n\t\t        </tr>\n\t\t    </thead>\n\t\t    <tbody>\n\t\t\t\t{{#resources}}\n\t\t        <tr>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.LogicalResourceId}}</td>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.PhysicalResourceId}}</td>\n\t\t            <td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.ResourceType}}</td>\n\t\t\t\t\t<td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.ResourceStatus}}</td>\n\t\t\t\t\t<td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">&nbsp;</td>\n\t\t        </tr>\n\t\t\t\t{{/resources}}\n\n\t\t    </tbody>\n\t\t</table>\n\n\t',list_resources:function(){var a=this;a.set("resources",[]);var t={StackName:this.get("StackName")};cloudformation.listStackResources(t,function(t,e){if(t)return alert("get stack resources failed");a.set("resources",e.StackResourceSummaries)})},oninit:function(){this.get("StackName");this.list_resources()}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ractive.extend({template:'\n\t\t<div style="padding: 15px;">Events Not Implemented</div>\n\t'})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ractive.extend({template:'\n\t\t<div style="padding: 15px;">Exports Not Implemented</div>\n\t'})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=Ractive.extend({template:'\n\n\t\t\t{{#if page === \'upload\'}}\n\t\t\t\t<h3>Create Stack</h3>\n\t\t\t\t<div style="box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;background-color:#fff;max-width: 800px;margin-bottom: 15px;">\n\n\n\t\t\t\t\t<div style="font-size: 18px;line-height: 30px;background-color: #fafafa;border-bottom: 1px solid #eaeded;padding: 15px 30px;font-weight: 700;color: #000;">Specify template</div>\n\t\t\t\t\t<div style="padding: 30px;">\n\n\t\t\t\t\t\t\t{{#if err}}\n\t\t\t\t\t\t\t\t<div class="err" style=\'color: #dc3636;background-color: #e69ca6;border: 1px solid #ec6b6b;border-radius: 3px;padding: 6px;\'>{{ err.message || "Template parse failed" }}</div>\n\t\t\t\t\t\t\t{{/if}}\n\n\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<h4>Specify template</h4>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<li>✅ .yaml or .json\n\t\t\t\t\t\t\t\t<li>✅ !Join, !Sub, !Select, !Split\n\t\t\t\t\t\t\t\t<li>✅ !Base64, !GetAZs, !FindInMap\n\t\t\t\t\t\t\t\t<li>✅ !Ref to in-template and pseudo parameters\n\t\t\t\t\t\t\t\t<li>❌ !Ref to another resource\n\t\t\t\t\t\t\t\t<li>❌ !ImportValue, !GetAtt !Transform, !Cidr\n\t\t\t\t\t\t\t\t<li>❌ !If, !And, !Equals, !Not, !Or\n\t\t\t\t\t\t\t\t<li>✅ partially supported <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dynamodb-table.html" target="_blank">AWS::DynamoDB::Table</a>\n\t\t\t\t\t\t\t\t<li>✅ partially supported <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html" target="_blank">AWS::S3::Bucket</a>\n\t\t\t\t\t\t\t\t<li>❌ all other resource types are created as decoy\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<a class="btn btn-sm btn-default"  on-click=\'upload\' >Upload Template</a>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="max-width: 800px;">\n\t\t\t\t\t<a class="btn btn-sm btn-primary {{#if newstack.TemplateBody === null }}disabled{{/if}} pull-right" on-click="goto-parameters">Next</a>\n\t\t\t\t</div>\n\t\t\t{{/if}}\n\n\t\t\t{{#if page === \'parameters\'}}\n\t\t\t\t<h3>Specify stack details</h3>\n\n\t\t\t\t<div style="box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;background-color:#fff;max-width: 800px;margin-bottom: 15px;">\n\t\t\t\t\t<div style="font-size: 18px;line-height: 30px;background-color: #fafafa;border-bottom: 1px solid #eaeded;padding: 15px 30px;font-weight: 700;color: #000;">Stack name</div>\n\t\t\t\t\t<div style="padding: 30px;">\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<div>Stack name</div>\n\t\t\t\t\t\t<input type="text" value="{{newstack.StackName}}" style="width: 100%;padding: 10px;"/>\n\t\t\t\t\t\t<small>Stack name can include letters (A-Z and a-z), numbers (0-9), and dashes (-).</small>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;background-color:#fff;max-width: 800px;margin-bottom: 15px;">\n\t\t\t\t\t<div style="font-size: 18px;line-height: 30px;background-color: #fafafa;border-bottom: 1px solid #eaeded;padding: 15px 30px;font-weight: 700;color: #000;">Parameters</div>\n\t\t\t\t\t<div style="padding: 30px;">\n\n\n\t\t\t\t{{#newstack.Parameters}}\n\t\t\t\t<br>\n\t\t\t\t<div>{{.ParameterKey}}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t{{#if .ParameterConstraints.AllowedValues}}\n\t\t\t\t\t\t<select value="{{.ParameterValue}}" style="width: 100%;padding: 10px;height: 37px;">\n\t\t\t\t\t\t\t{{#.ParameterConstraints.AllowedValues}}\n\t\t\t\t\t\t\t<option value="{{.}}">{{.}}</option>\n\t\t\t\t\t\t\t{{/.ParameterConstraints.AllowedValues}}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t{{else}}\n\t\t\t\t\t\t<input type="text" value="{{.ParameterValue}}" style="width: 100%;padding: 10px;">\n\t\t\t\t\t{{/if}}\n\t\t\t\t</div>\n\t\t\t\t{{/newstack.Parameters}}\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div style="max-width: 800px;">\n\t\t\t\t\t<a class="btn btn-sm btn-primary {{#if newstack.StackName === \'\' }}disabled{{/if}} pull-right" on-click="goto-confirm">Next</a>\n\t\t\t\t</div>\n\n\t\t\t{{/if}}\n\n\n\t\t\t{{#if page === \'confirm\'}}\n\t\t\t\t<div style="position: absolute;top: 0px;left: 0px;right:0px;overflow: auto;box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;background-color:#fff;">\n\t\t\t\t\t<div style="padding: 30px;">\n\n\t\t\t\t\t\t<div class="err" style=\'{{#if !err}}visibility:hidden;{{/if}}color: #dc3636;background-color: #e69ca6;border: 1px solid #ec6b6b;border-radius: 3px;padding: 6px;margin-bottom: 10px;\'>{{ err.message || "Create failed" }}</div>\n\n\t\t\t\t\t\t<a class="btn btn-sm btn-primary" on-click="create">Create</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{{/if}}\n\n\t',data:function(){return{page:"upload",newstack:{StackName:"",TemplateBody:null}}},pickafile:function(e){var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("style","display: none;"),a.addEventListener("change",function(t){if(1<a.files.length)return alert("Please upload one file at a time");e(null,a.files[0])}),a.click()},oninit:function(){var n=this;n.on("upload",function(t){n.set("err"),n.pickafile(function(t,e){console.log("selected",e);var a=new FileReader;a.onload=function(t){n.set("newstack.StackName",e.name.split(".yaml").join("").split(".json").join("")),n.set("newstack.TemplateBody",a.result)},a.readAsBinaryString(e)})}),n.on("goto-parameters",function(){var t={TemplateBody:n.get("newstack.TemplateBody")};cloudformation.getTemplateSummary(t,function(t,e){if(t)return n.set("err",t),void console.log("getTemplateSummary failed",void 0===t?"undefined":i(t),JSON.stringify(t),t.message);n.set("newstack.Parameters",e.Parameters.map(function(t){return t.DefaultValue&&(t.ParameterValue=t.DefaultValue),t})),n.set("newstack.ResourceTypes",e.ResourceTypes),n.set("page","parameters")})}),n.on("goto-confirm",function(){n.set("err"),n.set("page","confirm")}),n.on("create",function(){n.set("err");var t=n.get("newstack");t.Parameters=t.Parameters.map(function(t){return{ParameterKey:t.ParameterKey,ParameterValue:t.ParameterValue}}),cloudformation.createStack(t,function(t,e){t?n.set("err",t):setTimeout(function(){n.root.findComponent("cftabs").command("stacklist")},1500)})})}})},function(t,e,a){"use strict";var n=Ractive.extend({template:'\n\t<svg class="icon" style={{style}} version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t\t viewBox="0 0 477.867 477.867" xml:space="preserve">\n\t<g>\n\t\t<g>\n\t\t\t<path d="M409.6,0c-9.426,0-17.067,7.641-17.067,17.067v62.344C304.667-5.656,164.478-3.386,79.411,84.479\n\t\t\t\tc-40.09,41.409-62.455,96.818-62.344,154.454c0,9.426,7.641,17.067,17.067,17.067S51.2,248.359,51.2,238.933\n\t\t\t\tc0.021-103.682,84.088-187.717,187.771-187.696c52.657,0.01,102.888,22.135,138.442,60.976l-75.605,25.207\n\t\t\t\tc-8.954,2.979-13.799,12.652-10.82,21.606s12.652,13.799,21.606,10.82l102.4-34.133c6.99-2.328,11.697-8.88,11.674-16.247v-102.4\n\t\t\t\tC426.667,7.641,419.026,0,409.6,0z"/>\n\t\t</g>\n\t</g>\n\t<g>\n\t\t<g>\n\t\t\t<path d="M443.733,221.867c-9.426,0-17.067,7.641-17.067,17.067c-0.021,103.682-84.088,187.717-187.771,187.696\n\t\t\t\tc-52.657-0.01-102.888-22.135-138.442-60.976l75.605-25.207c8.954-2.979,13.799-12.652,10.82-21.606\n\t\t\t\tc-2.979-8.954-12.652-13.799-21.606-10.82l-102.4,34.133c-6.99,2.328-11.697,8.88-11.674,16.247v102.4\n\t\t\t\tc0,9.426,7.641,17.067,17.067,17.067s17.067-7.641,17.067-17.067v-62.345c87.866,85.067,228.056,82.798,313.122-5.068\n\t\t\t\tc40.09-41.409,62.455-96.818,62.344-154.454C460.8,229.508,453.159,221.867,443.733,221.867z"/>\n\t\t</g>\n\t</g>\n\t</svg>\n\t'});t.exports={"icon-refresh":n}}],i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)).default;function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o});